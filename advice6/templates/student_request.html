<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>상담 신청</title>
  <style>
    body {
      font-family: 'Nanum Gothic', sans-serif;
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      background-color: #f8f9fa;
    }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px;
      border-radius: 6px; border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      margin-top: 25px; padding: 10px 20px;
      background-color: #7ed6df; color: white;
      border: none; border-radius: 8px;
      width: 100%;
      cursor: pointer;
    }
    button:hover { background-color: #22a6b3; }
    .notice { font-size: 14px; color: gray; margin-top: 10px; }
    .hint { font-size: 12px; color: #666; margin-top: 4px; }
  </style>
</head>
<body>
  <h2>📩 상담 신청</h2>

  <form method="POST">
    <label>신청자 구분</label>
    <select name="applicant_type" id="applicant_type" onchange="toggleForms()" required>
      <option value="" disabled selected>선택하세요</option>
      <option value="학생">학생</option>
      <option value="학부모">학부모</option>
    </select>

    <!-- 학생용 -->
    <div id="student_fields" style="display:none;">
      <label>학년</label>
      <input type="number" name="grade_student" min="1" max="6" placeholder="예: 3" />

      <label>반</label>
      <input type="number" name="class_num_student" min="1" placeholder="예: 2" />

      <label>번호</label>
      <input type="number" name="number_student" min="1" placeholder="예: 15" />

      <label>이름</label>
      <input type="text" name="name_student" placeholder="예: 홍길동" />
    </div>

    <!-- 학부모용 -->
    <div id="parent_fields" style="display:none;">
      <label>자녀 학년</label>
      <input type="number" name="grade_parent" min="1" max="6" placeholder="예: 3" />

      <label>자녀 반</label>
      <input type="number" name="class_num_parent" min="1" placeholder="예: 2" />

      <label>자녀 번호</label>
      <input type="number" name="number_parent" min="1" placeholder="예: 15" />

      <label>자녀 이름</label>
      <input type="text" name="name_parent" placeholder="예: 홍길동" />

      <label>관계</label>
      <select name="relation">
        <option value="부">부</option>
        <option value="모">모</option>
        <option value="조부모">조부모</option>
        <option value="기타">기타</option>
      </select>

      <label>연락처</label>
      <input type="text" name="contact" placeholder="예: 010-1234-5678" />
    </div>

    <!-- 주제: 선택형 + 기타 입력 -->
    <label>상담 주제</label>
    <select name="topic" id="topic_select" onchange="toggleCustomTopic()" required>
      <option value="" disabled selected>선택하세요</option>
      <option value="학업">학업</option>
      <option value="친구">친구</option>
      <option value="가족">가족</option>
      <option value="진로">진로</option>
      <option value="학교생활">학교생활</option>
      <option value="정서·행동">정서·행동</option>
      <option value="기타">기타</option>
    </select>

    <div id="custom_topic_field" style="display:none; margin-top:8px;">
      <input type="text" name="custom_topic" placeholder="기타 주제를 입력하세요 (예: 발표 불안)" />
      <div class="hint">※ “기타” 선택 시에만 입력합니다.</div>
    </div>

    <label>상담 내용</label>
    <textarea name="content" rows="5" required placeholder="상담이 필요한 구체적인 상황이나 내용을 적어 주세요."></textarea>

    <label>조회용 비밀번호</label>
    <input type="password" name="password" required placeholder="나중에 상담 내역 확인 시 필요합니다." />

    <p class="notice">※ 이 비밀번호는 나중에 상담 내역 확인 시 필요합니다. 꼭 기억해 주세요.</p>

    <button type="submit">상담 신청하기</button>
  </form>

  <script>
    function toggleForms() {
      const type = document.getElementById('applicant_type').value;
      document.getElementById('student_fields').style.display = (type === '학생') ? 'block' : 'none';
      document.getElementById('parent_fields').style.display = (type === '학부모') ? 'block' : 'none';
    }
    function toggleCustomTopic() {
      const topic = document.getElementById('topic_select').value;
      document.getElementById('custom_topic_field').style.display = (topic === '기타') ? 'block' : 'none';
    }
  </script>
</body>
</html>
